"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[798],{5312:(e,t,i)=>{i.d(t,{ML:()=>c});i(3117),i(102);var n=i(7294),a=i(3905),o=i(4456),l=i(2202),d=i(8120),r=i(4669),s=(i(5935),i(8378)),c=function(e){var t=e.checkExercise,i=e.children,c=void 0===i?"":i,u=n.useState(Math.round(1e5*Math.random()))[0],h=n.useState(),g=(h[0],h[1]),k=n.useState(c),p=k[0],m=k[1],b=n.useRef();n.useEffect((function(){var e=new o.tk({state:d.yy.create({doc:c,extensions:[l.Xy,(0,r.dy)(),o.tk.updateListener.of((function(e){e.docChanged&&m(e.state.doc.toString())}))]}),parent:document.querySelector("#editor-"+u)});g(e)}),[]);var v=(0,a.kt)("div",null,(0,a.kt)("div",{className:"playground-header"},"Live editor"),(0,a.kt)("div",{id:"editor-"+u,className:"npm__react-simple-code-editor__textarea"})),f=(0,a.kt)("div",null,(0,a.kt)("div",{className:"playground-header"},"Result"),(0,a.kt)("div",{id:t?"exercise":"",className:"html-output",ref:b,dangerouslySetInnerHTML:{__html:p}})),y=t&&(0,a.kt)(s.Ep,{checkExercise:function(){return t(b.current)},mdxType:"VerifyButton"});return(0,a.kt)(n.Fragment,null,(0,a.kt)("div",{className:"editor-container"},v,f),y)}},8378:(e,t,i)=>{i.d(t,{Ep:()=>o});i(3117),i(102);var n=i(7294),a=i(3905),o=function(e){var t=e.checkExercise,i=(0,n.useState)(null),o=i[0],l=i[1],d="Well done!",r=function(){var e=t();l(e||d)};return(0,a.kt)("div",{className:"verify"},(0,a.kt)("button",{type:"button",className:"button",onClick:r},"Verify"),function(){if(o){var e=o===d;return(0,a.kt)("div",{className:e?"success":"error",role:"alert"},o)}}())}},4271:(e,t,i)=>{i.r(t),i.d(t,{frontMatter:()=>r,contentTitle:()=>s,metadata:()=>c,toc:()=>u,default:()=>g});var n=i(3117),a=i(102),o=(i(7294),i(3905)),l=i(5312),d=["components"],r={title:"Dialogs",sidebar_label:"2.7. Dialogs",id:"dialogs"},s=void 0,c={unversionedId:"code/dialogs",id:"code/dialogs",title:"Dialogs",description:"Dialogs are a little bit trickier to make accessible, but with a few key",source:"@site/../docs/code/dialogs.mdx",sourceDirName:"code",slug:"/code/dialogs",permalink:"/tutorial/code/dialogs",tags:[],version:"current",lastUpdatedBy:"Rachel Ruderman",lastUpdatedAt:1645081201,formattedLastUpdatedAt:"2/17/2022",frontMatter:{title:"Dialogs",sidebar_label:"2.7. Dialogs",id:"dialogs"},sidebar:"docs",previous:{title:"2.6. Lists",permalink:"/tutorial/code/lists"},next:{title:"2.8. Tables",permalink:"/tutorial/code/tables"}},u=[{value:"Semantic dialog",id:"semantic-dialog",children:[],level:2},{value:"Exercise: Unsemantic dialog",id:"exercise-unsemantic-dialog",children:[],level:2}],h={toc:u};function g(e){var t=e.components,i=(0,a.Z)(e,d);return(0,o.kt)("wrapper",(0,n.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Dialogs are a little bit trickier to make accessible, but with a few key\nprinciples, they can be made keyboard navigable and usable with screen readers."),(0,o.kt)("h2",{id:"semantic-dialog"},"Semantic dialog"),(0,o.kt)("p",null,"Start VoiceOver if you are on your Mac and press enter on the ",(0,o.kt)("strong",{parentName:"p"},"Show Dialog")," button.\nYou will notice that:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"VoiceOver announces that a dialog is opened and the name of the dialog because we have a ",(0,o.kt)("inlineCode",{parentName:"li"},"role")," of 'dialog' with a label associated using ",(0,o.kt)("inlineCode",{parentName:"li"},"aria-labelledby"),"."),(0,o.kt)("li",{parentName:"ol"},"When the dialog opens, focus lands in the first focusable element in the dialog."),(0,o.kt)("li",{parentName:"ol"},"Tabbing keeps focus within the dialog. Note that you have to write code to restrict the tab sequence to the dialog."),(0,o.kt)("li",{parentName:"ol"},"Closing the dialog places focus back on the source button."),(0,o.kt)("li",{parentName:"ol"},"Pressing the ",(0,o.kt)("inlineCode",{parentName:"li"},"esc")," key closes the dialog and places the focus back on the source button.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Note that for widgets like typeaheads, pressing ",(0,o.kt)("inlineCode",{parentName:"li"},"esc")," should close the typeahead and not the dialog."),(0,o.kt)("li",{parentName:"ul"},"Note that if you have textual content in the dialog besides labels, you should associate it with an ",(0,o.kt)("inlineCode",{parentName:"li"},"aria-describedby")," to the right input field so it gets announced when you tab to the input field.")))),(0,o.kt)(l.ML,{mdxType:"Editor"},'<button onclick=\'showHideDialog(event)\' id="sourceLink">\n  Show Dialog\n</button>\n<div id="overlay" onkeydown=\'closeDialog(event)\'>\n  <div\n    id="container"\n    role=\'dialog\'\n    aria-labelledby=\'dialog-title\'>\n      <h2 id=\'dialog-title\'>Shipping Address</h2>\n      <div id="content">\n        <div>\n          <label for="inputfield">Name </label>\n          <input\n            type="text"\n            name="Name field"\n            id="inputfield" />\n        </div>\n      </div>\n      <div>\n        <button\n          onclick=\'showHideDialog(event)\'\n          id="submitButton">\n            Submit\n        </button>\n        <button\n          onclick=\'showHideDialog(event)\'\n          id="closeButton">\n            Close\n        </button>\n      </div>\n  </div>\n</div>'),(0,o.kt)("h2",{id:"exercise-unsemantic-dialog"},"Exercise: Unsemantic dialog"),(0,o.kt)("p",null,"The dialog below is unsemantic:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The fact that a dialog opened up is not announced to VoiceOver."),(0,o.kt)("li",{parentName:"ol"},"The heading that labels the dialog is not announced when the dialog is opened.\nTo fix these issues:"),(0,o.kt)("li",{parentName:"ol"},"Change the ",(0,o.kt)("inlineCode",{parentName:"li"},"<b>")," to a semantic ",(0,o.kt)("inlineCode",{parentName:"li"},"h2")," tag."),(0,o.kt)("li",{parentName:"ol"},"To the div with ",(0,o.kt)("inlineCode",{parentName:"li"},"id"),' "container2", add a ',(0,o.kt)("inlineCode",{parentName:"li"},"role")," of 'dialog'."),(0,o.kt)("li",{parentName:"ol"},"To the div with ",(0,o.kt)("inlineCode",{parentName:"li"},"id"),' "container2", add ',(0,o.kt)("inlineCode",{parentName:"li"},"aria-labelledby='dialog-title'"),".\nVerify with VoiceOver.")),(0,o.kt)(l.ML,{checkExercise:function(e){var t=e.querySelector("#container2"),i=(e.querySelector("#dialog-title"),e.querySelector("h2"));return t.hasAttribute("role")&&"dialog"===t.getAttribute("role")?t.hasAttribute("aria-labelledby")&&"dialog-title"===t.getAttribute("aria-labelledby")?"dialog-title"===(null==i?void 0:i.getAttribute("id"))?void 0:"It doesn't look like you made the dialog heading semantic.":"It doesn't look like you associated the heading to the dialog with an aria-labelledby.":"It doesn't look like you added a role of 'dialog'."},mdxType:"Editor"},'<button\n   onclick=\'showHideDialog2(event)\'\n   id="sourceLink2">\n    Show Dialog\n</button>\n<div id="overlay2" onkeydown=\'closeDialog2(event)\'>\n  <div id="container2">\n    <b id=\'dialog-title\'>Shipping Address</b>\n    <div>\n      <div id="content2">\n        <div>\n          <label for="inputfield2">Name </label>\n          <input\n            type="text"\n            name="Name field"\n            id="inputfield2" />\n        </div>\n        <div>\n          <button\n            onclick=\'showHideDialog2(event)\'\n            id=\'submitButton2\'>\n              Submit\n          </button>\n          <button\n            onclick=\'showHideDialog2(event)\'\n            id=\'closeButton2\'>\n              Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'))}g.isMDXComponent=!0}}]);