---
title: Dialogs
sidebar_label: 2.7. Dialogs
id: dialogs
---
Dialogs are a little bit trickier to make accessible, but with a few key
principles, they can be made keyboard navigable and usable with screen readers.
## Semantic Dialog
Start VoiceOver if you are on your Mac and press enter on the **Show Dialog** button.
You will notice that:
1. VoiceOver announces that a dialog is opened and the name of the dialog because we have a `role` of 'dialog' with a label associated using `aria-labelledby`.
2. When the dialog opens, focus lands in the first focusable element in the dialog.
3. Tabbing keeps focus within the dialog. Note that you have to write code to restrict the tab sequence to the dialog.
4. Closing the dialog places focus back on the source button.
5. Pressing the `esc` key closes the dialog and places the focus back on the source button. Note that for widgets like typeaheads, pressing `esc` should close the typeahead and not the dialog.
Note that if you have textual content in the dialog besides labels, you should associate it with an `aria-describedby` to the right input field so it gets announced when you tab to the input field.
```jsx live

function SemanticDialogExercise(props) {
 const [isDialogVisible, setIsDialogVisible] = React.useState(false);
 const inputRef = React.createRef();
 const modalRef = React.createRef();
 const sourceLinkRef = React.createRef();
 const toggleDialogVisibility = () => {
   setIsDialogVisible((prevState) => {
     if(prevState == true) {
      sourceLinkRef.current.focus();
    }
    return !prevState;
   });
 };
 const handleKeyDown = (event) => {
   if (!isDialogVisible || event.key !== 'Tab') {
     return;
   }
   const focusableModalElements = modalRef.current.querySelectorAll(
    'button:not([disabled]), input'
  )
    const firstElement = focusableModalElements[0]
    const lastElement = focusableModalElements[focusableModalElements.length - 1]

    // if going forward by pressing tab and lastElement is active shift focus to first focusable element
    if (!event.shiftKey && document.activeElement === lastElement) {
      firstElement.focus()
      return event.preventDefault()
    }

    // if going backward by pressing tab and firstElement is active shift focus to last focusable element
    if (event.shiftKey && document.activeElement === firstElement) {
      lastElement.focus()
      event.preventDefault()
    }
 }
 const modalStyle = {
 display: isDialogVisible ? 'block':'none', /* Hidden by default */
  position: 'fixed', /* Stay in place */
  zIndex: 1, /* Sit on top */
  paddingTop: '100px', /* Location of the box */
  left: 0,
  top: 0,
  width: '100%', /* Full width */
  height: '100%', /* Full height */
  overflow: 'auto', /* Enable scroll if needed */
  backgroundColor: 'rgb(0,0,0)', /* Fallback color */
  backgroundColor: 'rgba(0,0,0,0.4)', /* Black w/ opacity */
 }

 const modalContentStyle = {
  backgroundColor: '#fefefe',
  margin: 'auto',
  padding: '20px',
  border: '1px solid #888',
  width: '80%',
 }

   React.useEffect(() => {
    if (isDialogVisible) {
      inputRef.current.focus();
    }
  }, [isDialogVisible]);
 return (
   <>
     <button
       type="button"
       onClick={toggleDialogVisibility}
       id="sourceLink"
       ref={sourceLinkRef}
     >
       Show Dialog
     </button>
     <div id="overlay" onKeyDown={handleKeyDown}>
       <div
         id="container"
         style={modalStyle}
         role="dialog"
         aria-labelledby="dialog-title"
         ref={modalRef}
       >
         <div id="content" style={modalContentStyle}>
           <div>
                    <h2 id="dialog-title">Shipping Address</h2>

             <label htmlFor="inputfield">
               Name
               <input
                 type="text"
                 name="Name field"
                 id="inputfield"
                 ref={inputRef}
               />
             </label>
            <div>
           <button
             type="submit"
             onClick={toggleDialogVisibility}
             id="submitButton"
           >
             Submit
           </button>
           <button
             type="button"
             onClick={toggleDialogVisibility}
             id="closeButton"
           >
             Close
           </button>
         </div>
           </div>
         </div>
       </div>
     </div>
   </>
 );
}
```
## Unsemantic Dialog exercise
The dialog below is unsemantic:
1. The fact that a dialog opened up is not announced to VoiceOver.
2. The heading that labels the dialog is not announced when the dialog is opened.
To fix these issues:
1. Change the `<b>` to a semantic `h2` tag.
2. To the div with `id` "container2", add a `role` of 'dialog'.
3. To the div with `id` "container2", add `aria-labelledby`='dialog-title'.
Verify with VoiceOver.
```jsx live

function UnsemanticDialogExercise(props) {

const [isDialogVisible, setIsDialogVisible] = React.useState(false);
 const inputRef = React.createRef()
 const sourceLinkRef = React.createRef();
 const modalRef = React.createRef();

 const handleKeyDown = (event) => {
    if (!isDialogVisible || event.key !== 'Tab') {
      return;
    }
    const focusableModalElements = modalRef.current.querySelectorAll(
     'button:not([disabled]), input'
   )
     const firstElement = focusableModalElements[0]
     const lastElement = focusableModalElements[focusableModalElements.length - 1]

     // if going forward by pressing tab and lastElement is active shift focus to first focusable element
     if (!event.shiftKey && document.activeElement === lastElement) {
       firstElement.focus()
       return event.preventDefault()
     }

     // if going backward by pressing tab and firstElement is active shift focus to last focusable element
     if (event.shiftKey && document.activeElement === firstElement) {
       lastElement.focus()
       event.preventDefault()
     }
  }
  const modalStyle = {
  display: isDialogVisible ? 'block':'none', /* Hidden by default */
   position: 'fixed', /* Stay in place */
   zIndex: 1, /* Sit on top */
   paddingTop: '100px', /* Location of the box */
   left: 0,
   top: 0,
   width: '100%', /* Full width */
   height: '100%', /* Full height */
   overflow: 'auto', /* Enable scroll if needed */
   backgroundColor: 'rgb(0,0,0)', /* Fallback color */
   backgroundColor: 'rgba(0,0,0,0.4)', /* Black w/ opacity */
  }

  const modalContentStyle = {
   backgroundColor: '#fefefe',
   margin: 'auto',
   padding: '20px',
   border: '1px solid #888',
   width: '80%',
  }

 const toggleDialogVisibility = () => {
   setIsDialogVisible((prevState) => {
     if(prevState == true) {
      sourceLinkRef.current.focus();
    }
    return !prevState;
   });
 };

React.useEffect(() => {
if (isDialogVisible) {
  inputRef.current.focus();
}
}, [isDialogVisible]);

  return (
    <>
      <button
        type="button"
        onClick={toggleDialogVisibility}
        id="sourceLink2"
        ref={sourceLinkRef}
      >
        Show Dialog
      </button>
      <div id="overlay2"  onKeyDown={handleKeyDown}>
        <div id="container2"
             style={modalStyle}
             ref={modalRef}>
          <b id="dialogtitle2">Shipping Address</b>
          <div>
            <div id="content2" style={modalContentStyle}>
              <div>
                <label htmlFor="inputfield2">
                  Name
                  <input
                    type="text"
                    name="Name field"
                    id="inputfield2"
                    ref={inputRef}
                  />
                </label>
              </div>
              <div>
                <button
                  type="submit"
                  onClick={toggleDialogVisibility}
                  id="submitButton2"
                >
                  Submit
                </button>
                <button
                  type="button"
                  onClick={toggleDialogVisibility}
                  id="closeButton2"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
}
```

import { VerifyButton } from "../_util/VerifyButton.mdx";
<VerifyButton
  checkExercise={() => {
  const container = document.getElementById('container2');
  if (!container.hasAttribute('role') || container.getAttribute('role') !== 'dialog') {
    return 'It doesn\'t look like you added a role of \'dialog\'.';
  }
  if (!container.hasAttribute('aria-labelledby') || container.getAttribute('aria-labelledby') !== 'dialog-title') {
    return 'It doesn\'t look like you associated the heading to the dialog with an aria-labelledby.';
  }
  const shippingAddressDialog = document.getElementById('dialogtitle2');
  if (shippingAddressDialog.tagName !== 'H2') {
    return "It doesn't look like you made the dialog heading semantic."
  }
  return false;
  }}
></VerifyButton>