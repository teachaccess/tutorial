import { useState } from "react";

export const VerifyButton = ({ checkExercise }) => {
  const [feedback, setFeedback] = useState(null);
  const success = "Well done!";
  const onClick = () => {
    const error = checkExercise();
    setFeedback(error || success);
  };
  const renderButton = () => (
    <button type="button" className="button" onClick={onClick}>
      Verify
    </button>
  );
  const renderFeedback = () => {
    if (feedback) {
      const isSuccess = feedback === success;
      return (
        <span className={isSuccess ? "success" : "error"} role="alert">
          {feedback}
        </span>
      );
    }
  };
  return (
    <div className="verify">
      {renderButton()}
      {renderFeedback()}
    </div>
  );
};
